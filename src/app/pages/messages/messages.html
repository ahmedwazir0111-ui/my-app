<section class="page-section">
  <h2 class="section-title">Communication &amp; Chat</h2>
  <div class="card-surface">
    <div class="message-layout">
      <div class="chat-list">
        <div class="input-group mb-3">
          <span class="input-group-text bg-white border-end-0"><i class="ri-search-line"></i></span>
          <input class="form-control border-start-0" type="text" placeholder="Search conversations...">
        </div>
        <div
          class="chat-item"
          *ngFor="let conversation of conversations"
          [class.active]="conversation.id === selectedId"
          (click)="selectConversation(conversation.id)"
        >
          <div class="d-flex align-items-center gap-2">
            <img class="avatar" [src]="conversation.avatar" [alt]="conversation.name">
            <div>
              <div class="fw-semibold">{{ conversation.name }}</div>
              <div class="chat-preview">{{ conversation.preview }}</div>
            </div>
          </div>
          <div class="text-muted-lite small">{{ conversation.time }}</div>
        </div>
      </div>
      <div class="chat-window">
        <div class="d-flex align-items-center justify-content-between">
          <div class="d-flex align-items-center gap-2">
            <img class="avatar" [src]="selectedConversation.avatar" [alt]="selectedConversation.name">
            <div>
              <div class="fw-semibold">{{ selectedConversation.name }}</div>
              <div class="text-muted-lite small">{{ selectedConversation.status }}</div>
            </div>
          </div>
          <div class="d-flex gap-2">
            <button class="icon-btn" type="button" aria-label="Call">
              <i class="ri-phone-line"></i>
            </button>
            <button class="icon-btn" type="button" aria-label="Video call">
              <i class="ri-vidicon-line"></i>
            </button>
            <button class="icon-btn" type="button" aria-label="More">
              <i class="ri-more-2-line"></i>
            </button>
          </div>
        </div>
        <div
          class="chat-bubble"
          *ngFor="let message of selectedConversation.messages"
          [ngClass]="message.from === 'me' ? 'outgoing' : 'incoming'"
        >
          {{ message.text }}
        </div>
        <div class="chat-input">
          <button class="icon-btn" type="button" aria-label="Attach">
            <i class="ri-attachment-2"></i>
          </button>
          <button class="icon-btn" type="button" aria-label="Image">
            <i class="ri-image-line"></i>
          </button>
          <input class="form-control" type="text" placeholder="Type a message...">
          <button class="btn btn-green" type="button" aria-label="Send">
            <i class="ri-send-plane-2-line"></i>
          </button>
        </div>
      </div>
    </div>
  </div>
</section>
